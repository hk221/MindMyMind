"use strict";(self.webpackChunk_99ab3657_68f7_4e59_9a2b_286558f37c78=self.webpackChunk_99ab3657_68f7_4e59_9a2b_286558f37c78||[]).push([[3],{1236:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_e});var a=n(318),o=n.n(a),r=n(1133),l=n(774),i=n(3147);const s=(0,r.Wp)({apiKey:"AIzaSyDqW8Mcav0opCXNvQOptRL8zhV19pwdazw",authDomain:"quizdatabase-6eda3.firebaseapp.com",projectId:"quizdatabase-6eda3",storageBucket:"quizdatabase-6eda3.firebasestorage.app",messagingSenderId:"741614543682",appId:"1:741614543682:web:4cbb172200a8fccd3c5edb",databaseURL:"https://quizdatabase-6eda3-default-rtdb.firebaseio.com/"}),c=(0,l.aU)(s),d=(0,i.xI)(s),m=s;var u=n(1736),f=n(9238),g=n(1110),b=n(525),p=n(5523);function E({onLogin:e}){const[t,n]=(0,a.useState)(!0),[r,l]=(0,a.useState)(""),[s,c]=(0,a.useState)("");return o().createElement(u.A,{sx:{maxWidth:320,mx:"auto",textAlign:"center",mt:8}},o().createElement(f.A,{variant:"h5",sx:{mb:2}},t?"Login":"Sign Up"),o().createElement(g.A,{label:"Email",type:"email",fullWidth:!0,margin:"normal",value:r,onChange:e=>l(e.target.value)}),o().createElement(g.A,{label:"Password",type:"password",fullWidth:!0,margin:"normal",value:s,onChange:e=>c(e.target.value)}),o().createElement(b.A,{variant:"contained",fullWidth:!0,sx:{mt:2},onClick:async()=>{try{const n=t?await(0,i.x9)(d,r,s):await(0,i.eJ)(d,r,s);e(n.user.uid)}catch(e){alert(`Auth failed: ${e.message}`)}}},t?"Login":"Sign Up"),o().createElement(f.A,{variant:"body2",sx:{mt:2}},t?"Don't have an account?":"Already have an account?"," ",o().createElement(p.A,{component:"button",variant:"body2",onClick:()=>n(!t)},t?"Sign Up":"Login")))}var k=n(3284),h=n(9584),x=n(3637),A=n(1961),S=n(4418),y=n(2121),v=n(3470),C=n(1888),w=n(6202),T=n(2787),I=n(8978),M=n(2780),F=n(1505),W=n(6192);let R="",D=0;function B({selected:e,onChange:t}){return o().createElement(F.A,{value:"check",selected:e,onChange:(n,a)=>{!e&&a&&(e=>{const t=Date.now();if(e===R&&t-D<1e3)return;R=e,D=t;const n=(0,W.C3)();(0,W.hZ)((0,W.KR)(n,"/webCommand"),e)})("TASK CHECKED OFF, well done mate!"),t(n,a)},sx:{width:30,height:30,borderRadius:"75%","&.Mui-selected":{backgroundColor:"#088F8F","&:hover":{backgroundColor:"#088F8F"}}}},o().createElement(M.A,{fontSize:"small",sx:{color:e?"#ffffff":"#088F8F"}}))}var z=n(47),N=n(810),$=n(781),L=n(5381),j=n(7723),O=n(9691),K=n(4099);const H=e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),a=e%60;return`${t?`${t}:`:""}${n<10?"0":""}${n}:${a<10?"0":""}${a}`};function q({subtask:e,itemId:t,deleteMode:n,editingSubtask:a,editedSubtaskName:r,setEditedSubtaskName:l,toggleSubtaskCompletion:i,handleSaveSubtask:s,handleEditSubtask:c,startSubtaskTimer:d,deleteSubtask:m}){const b=a?.taskId===t&&a?.subtaskId===e.id;return o().createElement(A.A,null,o().createElement(S.A,{align:"left",sx:{whiteSpace:"normal",wordWrap:"break-word"}},o().createElement(u.A,{sx:{display:"flex",alignItems:"center"}},o().createElement(B,{selected:e.completed,onChange:()=>i(t,e.id)}),b?o().createElement(g.A,{value:r,onChange:e=>l(e.target.value),size:"small",fullWidth:!0,onKeyDown:n=>{"Enter"===n.key&&s(t,e)},sx:{ml:1}}):o().createElement(f.A,{variant:"body1",sx:{ml:1}},e.name))),o().createElement(S.A,{align:"center"},o().createElement(f.A,{variant:"body2",color:"text.secondary"},H(e.time))),o().createElement(S.A,{align:"center"},n?o().createElement(x.A,{sx:{backgroundColor:"#ffebee",color:"#d32f2f","&:hover":{backgroundColor:"#ffcdd2"}},"aria-label":"delete subtask",onClick:()=>m(t,e.id)},o().createElement(L.A,{sx:{fontSize:24}})):o().createElement(o().Fragment,null,b?o().createElement(x.A,{onClick:()=>s(t,e)},o().createElement(z.A,{sx:{fontSize:24}})):o().createElement(x.A,{onClick:()=>c(t,e)},o().createElement(N.A,{sx:{fontSize:24}})),o().createElement(x.A,{onClick:()=>d(t,e.id)},o().createElement($.A,{sx:{fontSize:24}})))))}function P({item:e,expandedTask:t,deleteMode:n,subtaskInput:a,setSubtaskInput:r,addSubtask:l,editingSubtask:i,setEditingSubtask:s,editedSubtaskName:c,setEditedSubtaskName:d,updateSubtask:m,deleteSubtask:b,toggleSubtaskCompletion:p,startSubtaskTimer:E}){const k=(e,t)=>{s({taskId:e,subtaskId:t.id}),d(t.name)},h=(e,t)=>{m(e,t.id,c),s(null)},T=e=>{a.trim()&&(l(e,a.trim()),r(""))};return o().createElement(A.A,null,o().createElement(S.A,{style:{paddingBottom:0,paddingTop:0},colSpan:3},o().createElement(y.A,{in:t===e.id,timeout:"auto",unmountOnExit:!0},o().createElement(u.A,{sx:{margin:1,borderLeft:"2px solid #088F8F",pl:2}},o().createElement(f.A,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold",fontSize:"1.1rem",color:"#00796b"}},"Subtasks"),o().createElement(v.A,{size:"small","aria-label":"subtasks"},o().createElement(C.A,null,o().createElement(A.A,null,o().createElement(S.A,{align:"left"},"Subtask"),o().createElement(S.A,{align:"center"},"Time"),o().createElement(S.A,{align:"center"},"Actions"))),o().createElement(w.A,null,e.subtasks?.length?e.subtasks.map((t=>o().createElement(q,{key:t.id,subtask:t,itemId:e.id,deleteMode:n,editingSubtask:i,editedSubtaskName:c,setEditedSubtaskName:d,toggleSubtaskCompletion:p,handleSaveSubtask:h,handleEditSubtask:k,startSubtaskTimer:E,deleteSubtask:b}))):o().createElement(A.A,null,o().createElement(S.A,{colSpan:3},o().createElement(f.A,{variant:"body2",color:"text.secondary"},"No subtasks added."))),o().createElement(A.A,null,o().createElement(S.A,{colSpan:3},o().createElement(u.A,{sx:{display:"flex",alignItems:"center",mt:1}},o().createElement(g.A,{value:a,onChange:e=>r(e.target.value),size:"small",placeholder:"New subtask",fullWidth:!0,onKeyDown:t=>{"Enter"===t.key&&T(e.id)}}),o().createElement(x.A,{onClick:()=>T(e.id)},o().createElement(j.A,null)))))))))))}function Y({item:e,editTaskId:t,editedTaskName:n,setEditedTaskName:a,expandedTask:r,deleteMode:l,deleteItem:i,startTimer:s,toggleExpand:c,handleEditClick:d,handleSaveClick:m,updateTask:b}){return o().createElement(A.A,{role:"checkbox"},o().createElement(S.A,{align:"left",sx:{whiteSpace:"normal",wordWrap:"break-word"}},o().createElement(u.A,{sx:{display:"flex",alignItems:"center",gap:1}},o().createElement(B,{selected:e.completed,onChange:()=>b(e.id,{...e,completed:!e.completed})}),t===e.id?o().createElement(g.A,{autoFocus:!0,value:n,onChange:e=>a(e.target.value),size:"small",fullWidth:!0,onKeyDown:t=>{"Enter"===t.key&&m(e)},sx:{ml:1}}):o().createElement(f.A,{sx:{ml:1,fontSize:"1rem",fontWeight:500,cursor:"pointer"},onClick:()=>c(e.id)},e.name))),o().createElement(S.A,{align:"center"},o().createElement(f.A,{sx:{fontSize:"1rem",fontWeight:500,color:"#004d40"}},H(e.time+(e.subtasks?.reduce(((e,t)=>e+t.time),0)||0)))),o().createElement(S.A,{align:"center"},l?o().createElement(x.A,{sx:{backgroundColor:"#ffebee",color:"#d32f2f","&:hover":{backgroundColor:"#ffcdd2"},transition:"0.3s ease",padding:"10px"},"aria-label":"delete task",onClick:()=>i(e.id)},o().createElement(L.A,{sx:{fontSize:36}})):o().createElement(u.A,{sx:{display:"flex",gap:1,justifyContent:"center"}},t===e.id?o().createElement(x.A,{onClick:()=>m(e)},o().createElement(z.A,{sx:{fontSize:36}})):o().createElement(x.A,{onClick:()=>d(e)},o().createElement(N.A,{sx:{fontSize:36}})),o().createElement(x.A,{onClick:()=>s(e.id)},o().createElement($.A,{sx:{fontSize:36}})),o().createElement(x.A,{onClick:()=>c(e.id)},r===e.id?o().createElement(O.A,{sx:{fontSize:36}}):o().createElement(K.A,{sx:{fontSize:36}})))))}function J({items:e,deleteMode:t,deleteItem:n,startTimer:r,updateTask:l,addSubtask:i,startSubtaskTimer:s,updateSubtask:c,deleteSubtask:d,toggleTaskCompletion:m,toggleSubtaskCompletion:u}){const[f,g]=(0,a.useState)(null),[b,p]=(0,a.useState)(""),[E,k]=(0,a.useState)(null),[h,x]=(0,a.useState)(""),[y,M]=(0,a.useState)(null),[F,W]=(0,a.useState)(""),R=e=>{g(e.id),p(e.name||"")},D=e=>{const t={...e,name:b};l(e.id,t),g(null)},B=e=>{k(E===e?null:e)};return o().createElement(T.A,{sx:{width:"100%",borderRadius:"12px",boxShadow:"0px 6px 15px rgba(0, 0, 0, 0.1)",background:"linear-gradient(135deg, #ffffff, #f5f5f5)",overflow:"hidden"}},o().createElement(I.A,{sx:{maxHeight:440,overflowY:"auto"}},o().createElement(v.A,{stickyHeader:!0,"aria-label":"task table",sx:{borderCollapse:"collapse","& .MuiTableCell-root":{borderBottom:"1px solid #ccc"}}},o().createElement(C.A,null,o().createElement(A.A,null,o().createElement(S.A,{align:"center",sx:{width:"40%",fontWeight:"bold",fontSize:"1.1rem",color:"#00796b"}},"Tasks"),o().createElement(S.A,{align:"center",sx:{width:"20%",fontWeight:"bold",fontSize:"1.1rem",color:"#00796b"}},"Total Time"),o().createElement(S.A,{align:"center",sx:{width:"40%",fontWeight:"bold",fontSize:"1.1rem",color:"#00796b"}},"Actions"))),o().createElement(w.A,null,e.map((e=>o().createElement(o().Fragment,{key:e.id},o().createElement(Y,{item:e,editTaskId:f,editedTaskName:b,setEditedTaskName:p,expandedTask:E,deleteMode:t,deleteItem:n,startTimer:r,toggleExpand:B,handleEditClick:R,handleSaveClick:D,updateTask:l}),o().createElement(P,{item:e,expandedTask:E,deleteMode:t,subtaskInput:h,setSubtaskInput:x,addSubtask:i,editingSubtask:y,setEditingSubtask:M,editedSubtaskName:F,setEditedSubtaskName:W,updateSubtask:c,deleteSubtask:d,toggleSubtaskCompletion:u,startSubtaskTimer:s}))))))))}var U=n(6230),G=n(6430),Z=n(6676),_=n(927),Q=n(1117),V=n(4242),X=n(8244),ee=n(4685);let te="",ne=0;function ae({onTimerEnd:e,initialBreaks:t,currentTask:n,currentSubtask:r,onTimeAdjust:s,onTriggerMotivation:d}){const[p,E]=(0,a.useState)("countup"),[k,h]=(0,a.useState)(600),[A,S]=(0,a.useState)(0),[y,v]=(0,a.useState)(k),[C,w]=(0,a.useState)(!1),[T,I]=(0,a.useState)(null),[M,F]=(0,a.useState)(0),[R,D]=(0,a.useState)(!1),[B,z]=(0,a.useState)(t),[N,$]=(0,a.useState)(""),[L,j]=(0,a.useState)(!1),[O,K]=(0,a.useState)(!1),[H,q]=(0,a.useState)(!1),P=((0,i.xI)().currentUser,["Reconnect your inner voice, do you REALLY need a break?😳"]),Y=e=>{const t=Date.now();if(e===te&&t-ne<1e3)return;te=e,ne=t;const n=(0,W.C3)();(0,W.hZ)((0,W.KR)(n,"/webCommand"),e)};let J=new Audio("https://orteil.dashnet.org/cookieclicker/snd/chime.mp3"),ae=new Audio("https://www.jedisaber.com/ST/Sounds/STTNG35.WAV");const oe=()=>{null===T&&(I(Date.now()),w(!0))},re=()=>{D(!1),K(!1)},le=()=>{C?("countup"===p?F(A):"countdown"===p&&F(k-y),I(null),w(!1),z((e=>e+1)),z((e=>e+1)),$(P[Math.floor(Math.random()*P.length)])):(I(Date.now()),w(!0))},ie=()=>{F(0),"countup"===p?S(0):"countdown"===p&&v(k),I(Date.now()),w(!0)},se=async()=>{D(!1),w(!1);const t=(0,i.xI)().currentUser;if(!t)return;const a=(0,l.H9)(c,"statistics",t.uid),o=(0,l.H9)(c,"statistics","default"),s=null!==T?Math.floor((Date.now()-T)/1e3):0,d="countup"===p?M+s:k-y;e(d,B,r?{...r,taskId:n.id}:n),I(null);try{const e=async e=>{const t=await(0,l.x7)(e),n=(t.exists()?ce(t.data().totalTimeStudied||"00:00:00"):0)+d,a=Math.floor(n/3600),o=Math.floor(n%3600/60),r=n%60,i=`${String(a).padStart(2,"0")}:${String(o).padStart(2,"0")}:${String(r).padStart(2,"0")}`;t.exists()?await(0,l.mZ)(e,{totalTimeStudied:i}):await(0,l.BN)(e,{totalTimeStudied:i})};await Promise.all([e(a),e(o)]),j(!0)}catch(e){console.error("Error updating stats in Firebase:",e),alert("Error updating stats.")}};(0,a.useEffect)((()=>{console.log("⏳ Setting up Firebase voice listener");const e=(0,W.C3)(m),t=(0,W.KR)(e,"/voiceCommand"),n=(0,W.Zy)(t,(e=>{const n=e.val();if(!n)return;const a=n.toLowerCase().trim();console.log("Voice command received:",a);const o=(e,t)=>t.some((t=>e.includes(t)));o(a,["pause","stop","hold","break","take a break"])&&C?(console.log("Pausing via voice..."),le()):o(a,["start","begin","resume","go","play","continue"])?C||(M>0||A>0||y<k?(console.log("Resuming via voice..."),oe()):(console.log("Starting fresh via voice..."),ie())):o(a,["home","finish","done","go back","end task"])&&(console.log("Finishing task via voice..."),se()),(0,W.hZ)(t,"")}));return()=>n()}),[C,T,M,oe,le,ie,se]),(0,a.useEffect)((()=>{let t;return C&&null!==T&&(t=setInterval((()=>{const a=M+Math.floor((Date.now()-T)/1e3);if("countup"===p)S(a);else if("countdown"===p){const o=k-a;o<=0?(v(0),w(!1),clearInterval(t),e(k,B,r||n)):v(o)}}),1e3)),()=>clearInterval(t)}),[C,T,M,p,k,B,n,r,e]);const ce=e=>{const t=e.split(":").map(Number);return 3===t.length?3600*t[0]+60*t[1]+t[2]:2===t.length?60*t[0]+t[1]:0};return o().createElement(u.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center",gap:3,padding:3,background:"linear-gradient(135deg, #e0f7fa, #e0f2f1)",borderRadius:3}},o().createElement(u.A,{sx:{display:"flex",gap:2,mb:2}},o().createElement(b.A,{onClick:()=>E("countup"),variant:"countup"===p?"contained":"outlined",sx:{textTransform:"none",fontWeight:600,backgroundColor:"countup"===p?"#00796b":"transparent",color:"countup"===p?"#fff":"#00796b",borderColor:"#00796b","&:hover":{backgroundColor:"countup"===p?"#00695c":"rgba(0,121,107,0.04)"}}},"Stopwatch ⬆️"),o().createElement(b.A,{onClick:()=>E("countdown"),variant:"countdown"===p?"contained":"outlined",sx:{textTransform:"none",fontWeight:600,backgroundColor:"countdown"===p?"#00796b":"transparent",color:"countdown"===p?"#fff":"#00796b",borderColor:"#00796b","&:hover":{backgroundColor:"countdown"===p?"#00695c":"rgba(0,121,107,0.04)"}}},"Timer ⬇️")),!C&&"countdown"===p&&o().createElement(u.A,{sx:{mb:2,display:"flex",alignItems:"center",gap:2}},o().createElement(f.A,{variant:"subtitle1",sx:{fontWeight:600,color:"#00796b",minWidth:140}},"Countdown (min):"),o().createElement(g.A,{type:"number",size:"small",variant:"outlined",inputProps:{min:0,step:1,style:{textAlign:"center"}},sx:{width:80,"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#00796b"},"&:hover fieldset":{borderColor:"#004d40"},"&.Mui-focused fieldset":{borderColor:"#00796b"}},"& .MuiInputBase-input":{color:"#00796b",fontWeight:600}},value:Math.floor(k/60),onChange:e=>{const t=60*Math.max(0,Number(e.target.value));h(t),v(t)}})),o().createElement(f.A,{variant:"h5",sx:{fontWeight:700,color:"#00796b"}},r?r.name:n?.name||"No Task Selected"),o().createElement(u.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:2}},o().createElement(x.A,{onClick:()=>{if(w(!1),"countup"===p){const e=-60;S((t=>Math.max(0,t+e))),F((t=>Math.max(0,t+e)))}else if("countdown"===p){const e=-60;v((t=>Math.max(0,t+e)))}},sx:{color:"#d32f2f"}},"➖"),o().createElement(x.A,{onClick:()=>{C||"countdown"!==p||y!==k?(Y(C?"WHY YOU TAKING A BREAK?!":"WELL DONE, I'm so proud of you!!"),le()):(Y("WELL DONE, I'm so proud of you!!"),ie())},sx:{color:"#00796b"}},C?o().createElement(V.A,{sx:{fontSize:50}}):o().createElement(X.A,{sx:{fontSize:50}})),o().createElement(f.A,{variant:"h3",sx:{fontWeight:"bold",color:"#00796b"}},(e=>{const t=Math.floor(e/60),n=e%60;return`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`})("countup"===p?A:y)),o().createElement(x.A,{onClick:()=>{if(w(!1),"countup"===p){const e=60;S((t=>t+e)),F((t=>t+e))}else if("countdown"===p){const e=60;v((t=>t+e))}},sx:{color:"#388e3c"}},"➕")),!C&&("countup"===p&&A>0||"countdown"===p&&y<k)&&o().createElement(f.A,{variant:"body1",sx:{fontStyle:"italic",color:"#f57c00",fontWeight:500,mt:1}},N),o().createElement(u.A,{sx:{display:"flex",gap:2}},o().createElement(b.A,{variant:"contained",sx:{backgroundColor:"#8fbc8f",color:"#ffffff",px:4,py:1.5,borderRadius:2,"&:hover":{backgroundColor:"#228b22"}},onClick:()=>{Y("Well done, you will achieve great things!"),J.play(),(0,ee.A)(),D(!0)}},"Finish Task 🎯")),o().createElement(u.A,{sx:{display:"flex",gap:2}},o().createElement(b.A,{variant:"contained",sx:{backgroundColor:"#b22222",color:"#ffffff",px:4,py:1.5,borderRadius:2,"&:hover":{backgroundColor:"#8b0000"}},onClick:()=>{Y("UNBELIEVABLE. DO BETTER NEXT TIME."),ae.play(),K(!0)}},"I'll come back to this task later 👉🏼👈🏼")),o().createElement(U.A,{open:R,onClose:()=>{D(!1),re()},TransitionProps:{onExited:()=>{H&&(q(!1),d())}}},o().createElement(G.A,null,"🎉 Great job finishing your task!"),o().createElement(Z.A,null,o().createElement(_.A,null,"Before moving on: Your inner voice gets sharper every time you reflect. Let’s level up your focus! 🌟",o().createElement("br",null),"Fill out your reflections in the motivational section! 💭",o().createElement("br",null),"🤓 Complete a quick quiz to earn coins and strengthen your study strategy.")),o().createElement(Q.A,null,o().createElement(b.A,{onClick:re,sx:{color:"#00796b"}},"Cancel 🚫"),o().createElement(b.A,{onClick:se,sx:{color:"#00796b"}},"Back to Home 🏠"),o().createElement(b.A,{onClick:()=>{q(!0),D(!1)},sx:{color:"#00796b",fontWeight:"bold"}},"Reflect Now ✍️"))),o().createElement(U.A,{open:O,onClose:()=>{K(!1),re()},TransitionProps:{onExited:()=>{H&&(q(!1),d())}}},o().createElement(G.A,null,"Oh no 😡"),o().createElement(Z.A,null,o().createElement(_.A,null,"If you need to switch up the content, that's okay, just remind yourself of your goals before giving up on this task! 👍",o().createElement("br",null),'Take a moment to reflect and reconnect your inner thoughts, click "Reflect Now ✍️"!')),o().createElement(Q.A,null,o().createElement(b.A,{onClick:re,sx:{color:"#00796b"}},"Cancel 🚫"),o().createElement(b.A,{onClick:se,sx:{color:"#00796b"}},"Back to Home 🙁"),o().createElement(b.A,{onClick:()=>{q(!0),K(!1)},sx:{color:"#00796b",fontWeight:"bold"}},"Reflect Now ✍️"))))}var oe=n(3367),re=n(9656),le=n(1601),ie=n(8725),se=n(5629),ce=n(8731),de=n(9459),me=n(1306),ue=n(6827),fe=n(5283),ge=n(6226),be=n(9633),pe=n(7610),Ee=n(9177),ke=n(3194),he=n(8571),xe=n(7995),Ae=n(9333);const Se=(0,a.createContext)({user:null,loading:!0});function ye({children:e}){const[t,n]=(0,a.useState)(null),[r,l]=(0,a.useState)(!0);return(0,a.useEffect)((()=>(0,i.hg)(d,(e=>{n(e),l(!1)}))),[]),o().createElement(Se.Provider,{value:{user:t,loading:r}},e)}function ve(){return(0,a.useContext)(Se)}function Ce({open:e,onClose:t,totalTimeStudied:n,breaksTaken:r,tasks:i=[],studyHistory:s}){const{user:d}=ve();if((0,a.useEffect)((()=>{d&&(async()=>{try{const e=(0,l.H9)(c,"statistics",d.uid),t=(e=>{const t=e%60,n=e=>String(e).padStart(2,"0");return`${n(Math.floor(e/60))}:${n(t)}:${n(0)}`})(n);await(0,l.BN)(e,{totalTimeStudied:t},{merge:!0}),console.log("✔ Updated totalTimeStudied for",d.uid,t)}catch(e){console.error("✖ Failed to update stats:",e)}})()}),[d,n]),!e)return null;const m=e=>{const t=Math.floor(e/60),n=Math.floor(t/60),a=t%60;return n>0?`${n} hr ${a} min`:`${a} min`},g=i.length>0?Math.floor(n/i.length):0,p=(()=>{if(0===n)return 0;const e=n/3600,t=e>0?r/e:0,a=Math.min(e/4*5,5),o=t>=.5&&t<=1.5?5:t<.5?10*t:Math.max(0,5-2*(t-1.5));return Math.min(Math.max(Math.round(10*(a+o))/10,0),10)})(),E=i.map((e=>{const t=e.time+(e.subtasks.reduce(((e,t)=>e+t.time),0)||0);return{name:e.name,time:Math.round(t/60)}})),x=Object.entries(s).map((([e,t])=>({date:e,time:Math.round(Object.values(t).reduce(((e,t)=>e+t),0)/60)})));return o().createElement(u.A,{sx:{width:"90%",maxWidth:"1400px",margin:"20px auto",padding:4,background:"linear-gradient(135deg, #e0f7fa 0%, #e0f2f1 100%)",borderRadius:"12px",boxShadow:"0px 6px 15px rgba(0, 0, 0, 0.1)",justifyContent:"center"}},o().createElement(f.A,{variant:"h4",sx:{fontWeight:700,color:"#00796b",textAlign:"center",mb:3}},"Study Statistics 📊"),o().createElement(u.A,{sx:{backgroundColor:"#ffffff",p:3,borderRadius:2,boxShadow:2,mb:3}},o().createElement(f.A,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mb:2,color:"#004d40"}},"Overall Statistics"),o().createElement(oe.A,{spacing:2},o().createElement(oe.A,{direction:"row",spacing:1,alignItems:"center",justifyContent:"center"},o().createElement(se.A,{sx:{color:"#00796b"}}),o().createElement(f.A,{variant:"body1"},"Total Time: ",m(n))),o().createElement(oe.A,{direction:"row",spacing:1,alignItems:"center",justifyContent:"center"},o().createElement(de.A,{sx:{color:"#00796b"}}),o().createElement(f.A,{variant:"body1"},"Avg per Task: ",m(g))),o().createElement(oe.A,{direction:"row",spacing:1,alignItems:"center",justifyContent:"center"},o().createElement(ce.A,{sx:{color:"#f57c00"}}),o().createElement(f.A,{variant:"body1"},"Breaks Taken: ",r)),o().createElement(oe.A,{direction:"row",spacing:1,alignItems:"center",justifyContent:"center"},o().createElement(me.A,{sx:{color:"#FFD700"}}),o().createElement(f.A,{variant:"body1"},"Focus Score: ",p.toFixed(1),"/10"),o().createElement(h.A,{title:"Higher scores mean better study efficiency with optimal breaks.",arrow:!0},o().createElement(ue.A,{sx:{fontSize:18,color:"text.secondary",cursor:"help"}}))))),o().createElement(k.A,{sx:{my:2}}),o().createElement(u.A,{sx:{backgroundColor:"#ffffff",p:3,borderRadius:2,boxShadow:2,maxHeight:"250px",overflowY:"auto"}},o().createElement(f.A,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mb:2,color:"#004d40"}},"Time Per Task ⏱️"),o().createElement(re.A,{sx:{width:"100%"}},i.length>0?i.map(((e,t)=>{const n=e.time+(e.subtasks.reduce(((e,t)=>e+t.time),0)||0),a=Object.entries(s).map((([t,n])=>(console.log(`Checking date: ${t} for task: ${e.name}`,n),{date:t,time:n[e.name]||0}))).filter((e=>e.time>0));return console.log(`Daily times for ${e.name}:`,a),o().createElement(le.Ay,{key:t,sx:{backgroundColor:"#f5f5f5",borderRadius:2,mb:1,flexDirection:"column",alignItems:"flex-start"}},o().createElement(ie.A,{primary:`${e.name} - ${m(n)}`,primaryTypographyProps:{fontWeight:500},secondary:a.length>0?o().createElement(re.A,{sx:{paddingLeft:2}},a.map(((e,t)=>o().createElement(le.Ay,{key:t,sx:{paddingY:0,paddingX:0}},o().createElement(f.A,{variant:"body2",color:"text.secondary"},e.date,": ",m(e.time)))))):o().createElement(f.A,{variant:"body2",color:"text.secondary"},"No daily records available")}))})):o().createElement(f.A,{variant:"body2",color:"text.secondary",textAlign:"center"},"Get Started!"))),o().createElement(k.A,{sx:{my:3}}),o().createElement(f.A,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mt:3,mb:2,color:"#004d40"}},"Study Time Per Task 📊"),o().createElement(fe.u,{width:"100%",height:250},o().createElement(ge.E,{data:E,style:{backgroundColor:"#ffffff",borderRadius:8},margin:{top:20,right:20,bottom:20,left:0}},o().createElement(be.d,{strokeDasharray:"3 3"}),o().createElement(pe.W,{dataKey:"name"}),o().createElement(Ee.h,{label:{value:"Minutes",angle:-90,position:"insideLeft"}}),o().createElement(ke.m,null),o().createElement(he.y,{dataKey:"time",fill:"#90caf9",barSize:40}))),o().createElement(f.A,{variant:"h6",sx:{fontWeight:600,textAlign:"center",mt:3,mb:2,color:"#004d40"}},"Study Trends Over Time 📈"),o().createElement(fe.u,{width:"100%",height:250},o().createElement(xe.b,{data:x,style:{backgroundColor:"#ffffff",borderRadius:8},margin:{top:20,right:20,bottom:20,left:0}},o().createElement(be.d,{strokeDasharray:"3 3"}),o().createElement(pe.W,{dataKey:"date"}),o().createElement(Ee.h,{label:{value:"Minutes",angle:-90,position:"insideLeft"}}),o().createElement(ke.m,null),o().createElement(Ae.N,{type:"monotone",dataKey:"time",stroke:"#f57c00",strokeWidth:2}))),o().createElement(b.A,{onClick:t,sx:{display:"block",mx:"auto",backgroundColor:"#00796b",color:"#ffffff",mt:3,px:4,py:1.5,borderRadius:2}},"Back 🔙"))}function we({open:e,onClose:t}){const[n,r]=(0,a.useState)(null),[s,m]=(0,a.useState)(null),[g,p]=(0,a.useState)(!1),[E,k]=(0,a.useState)([]),h=[{id:"motivator",name:"Motivator Badge",cost:3,emoji:"🚀"},{id:"zenMaster",name:"Zen Master",cost:4,emoji:"🧘‍♂️🌸"},{id:"goldDuck",name:"Golden Duck Trophy",cost:5,emoji:"🦆✨"},{id:"taskWizard",name:"Task Wizard",cost:6,emoji:"🧙‍♂️📘"}],x=async()=>{if(!s)return;const e=s.uid,t=(0,l.H9)(c,"coins",e),n=(0,l.H9)(c,"trophies",e);try{const e=await(0,l.x7)(t);r(e.exists()?e.data().coins:0);const a=await(0,l.x7)(n);k(a.exists()&&a.data().items||[])}catch(e){console.error("Error fetching user data:",e)}};return(0,a.useEffect)((()=>(0,i.hg)(d,(e=>{m(e)}))),[]),(0,a.useEffect)((()=>{e&&s&&x()}),[e,s]),e?o().createElement(u.A,{sx:{width:"90%",maxWidth:"1400px",margin:"20px auto",padding:4,background:"linear-gradient(135deg, #e0f7fa 0%, #e0f2f1 100%)",borderRadius:"12px",boxShadow:"0px 6px 15px rgba(0, 0, 0, 0.1)",justifyContent:"center"}},g?o().createElement(o().Fragment,null,o().createElement(f.A,{variant:"h4",sx:{marginBottom:2}},"Trophy Cabinet 🏆"),E.length>0?o().createElement(u.A,{sx:{marginTop:2}},E.map((e=>{const t=(e=>h.find((t=>t.id===e)))(e);return o().createElement(T.A,{key:e,elevation:2,sx:{marginBottom:2,padding:2,width:"90%",textAlign:"left"}},o().createElement(f.A,{variant:"h6"},t?.emoji||"🎖️"," ",t?.name||e))}))):o().createElement(f.A,{variant:"body1"},"No trophies yet. Earn some by completing tasks! 🎯")):o().createElement(o().Fragment,null,o().createElement(f.A,{variant:"h4",sx:{marginBottom:2,textAlign:"center"}},"Spend your Coins! 🛒"),o().createElement(f.A,{variant:"h5",align:"center"},n>0?o().createElement(o().Fragment,null,"You have ",o().createElement("strong",null,n)," ",1===n?"coin":"coins"," 🪙"):o().createElement(o().Fragment,null,"No coins for you 😞",o().createElement("br",null),"Complete a quiz to earn some! 🤑")),o().createElement(u.A,{sx:{marginTop:3}},h.map((e=>o().createElement(T.A,{key:e.id,elevation:3,sx:{marginBottom:2,padding:2,display:"flex",justifyContent:"space-between",alignItems:"center",width:"auto",borderRadius:2,boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.08)",background:"#ffffff"}},o().createElement(f.A,{variant:"body1"},e.emoji," ",e.name," — ",e.cost," coins"),o().createElement(b.A,{onClick:()=>(async(e,t=null)=>{if(!s)return;const n=s.uid,a=(0,l.H9)(c,"coins",n),o=(0,l.H9)(c,"trophies",n);try{const n=await(0,l.x7)(a),i=n.exists()&&n.data().coins||0;i>=e?(await(0,l.mZ)(a,{coins:i-e}),(await(0,l.x7)(o)).exists()?await(0,l.mZ)(o,{items:(0,l.hq)(t)}):await(0,l.BN)(o,{items:[t]}),r(i-e),k((e=>[...e,t])),alert(`You bought ${t} for ${e} coins! 🎉`)):alert("Not enough coins!")}catch(e){console.error("Error spending coins:",e)}})(e.cost,e.id),disabled:null===n||n<e.cost,sx:{backgroundColor:"#f57c00",color:"white","&:hover":{backgroundColor:"#e65100"}}},"Buy")))))),o().createElement(u.A,{sx:{display:"flex",flexDirection:"column",gap:1.5,width:"100%",alignItems:"center",marginTop:2}},o().createElement(b.A,{onClick:()=>p((e=>!e)),sx:{backgroundColor:"#00796b",color:"#ffffff",fontWeight:600,px:4,py:1.5,borderRadius:2,textTransform:"none",width:"70%","&:hover":{backgroundColor:"#00695c"}}},g?"Back to Shop 🛍️":"Trophy Cabinet 🏆"),o().createElement(b.A,{onClick:x,sx:{backgroundColor:"#00796b",color:"#ffffff",fontWeight:600,px:4,py:1.5,borderRadius:2,textTransform:"none",width:"70%","&:hover":{backgroundColor:"#00695c"}}},"🔄 Refresh Coins"),o().createElement(b.A,{onClick:t,sx:{backgroundColor:"#00796b",color:"#ffffff",fontWeight:600,px:4,py:1.5,borderRadius:2,textTransform:"none","&:hover":{backgroundColor:"#00695c"}}},"Back to tasks ⏮️"))):null}function Te({addItem:e}){const[t,n]=(0,a.useState)(""),r=()=>{t.trim()&&(e(t.trim()),n(""))};return o().createElement(u.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",margin:"0 auto"}},o().createElement(T.A,{elevation:6,sx:{padding:"20px",borderRadius:"12px",width:"55%",background:"linear-gradient(135deg, #ffffff, #f5f5f5)",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)",textAlign:"center"}},o().createElement(g.A,{id:"task-input",label:"Enter Task",variant:"outlined",value:t,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),r())},fullWidth:!0,sx:{backgroundColor:"#ffffff",borderRadius:"8px","& .MuiOutlinedInput-root":{borderRadius:"8px"}}}),o().createElement(b.A,{variant:"contained",onClick:r,sx:{backgroundColor:"#00796b",color:"#ffffff",fontWeight:600,mt:2,px:4,py:1.5,borderRadius:"8px",textTransform:"none","&:hover":{backgroundColor:"#00695c"}}},"Add Task ＋")))}var Ie=n(6597),Me=n(92),Fe=n(8041),We=n(5637),Re=n(2878),De=n(2562),Be=n(1880),ze=n(8492),Ne=n(7897);const $e=({totalTimeStudied:e,breaksTaken:t,tasks:n,prefersRepetition:a,prefersLongBlocks:o,prefersFrequentIntervals:r,prefersWriting:l})=>{const i=e>0?t/(e/3600):0,s=n.length>0?Math.floor(e/n.length):0;let c="";return c=e<1800?"yes"===a?"Active Recall 🤓":"Flashcards 🃏":e<=7200?"yes"===r?"Pomodoro (25-5 or 50-10) 🍅":"Pomodoro Technique 🍅":"yes"===o?"Deep Work (90-min focus blocks) 💪":"Spaced Repetition 🔄",c+=i<1?" with short, focused sessions ✨":i<=2?" with balanced breaks ⚖️":"yes"===o?" and long reviews 📚":" with interleaving 🔀",c+=s<10?" and quick reviews ⚡":s<=30?"yes"===l?" plus Cornell note-taking 📝":" plus mixed practice 🔄":e>7200?" with deep focus sessions 🎯":" with thorough reviews 🎯",c};function Le({open:e,onClose:t,totalTimeStudied:n,breaksTaken:r,tasks:l,onSubmit:i}){const[s,c]=(0,a.useState)({prefersRepetition:"no",prefersLongBlocks:"yes",prefersFrequentIntervals:"yes",prefersWriting:"no"}),[d,m]=(0,a.useState)("");(0,a.useEffect)((()=>{const e=$e({totalTimeStudied:n,breaksTaken:r,tasks:l,...s});m(e)}),[s,n,r,l]);const g=e=>{const{name:t,value:n}=e.target;c((e=>({...e,[t]:n})))};return e?o().createElement(u.A,{sx:{width:"90%",maxWidth:"1400px",margin:"20px auto",padding:4,background:"linear-gradient(135deg, #e0f7fa 0%, #e0f2f1 100%)",borderRadius:"12px",boxShadow:"0px 6px 15px rgba(0, 0, 0, 0.1)",justifyContent:"center"}},o().createElement(f.A,{variant:"h4",sx:{fontWeight:700,color:"#00796b",textAlign:"center",mb:3}},"Study Preferences 🎓"),o().createElement(u.A,{sx:{backgroundColor:"#ffffff",p:3,borderRadius:2,boxShadow:2,mb:3}},o().createElement(oe.A,{spacing:3},o().createElement(Re.A,{component:"fieldset"},o().createElement(De.A,{component:"legend",sx:{fontWeight:600,color:"#004d40",mb:1}},"Do you prefer to repeat content (Active Recall) or use flashcards?"),o().createElement(Be.A,{row:!0,name:"prefersRepetition",value:s.prefersRepetition,onChange:g},o().createElement(ze.A,{value:"yes",control:o().createElement(Ne.A,{sx:{color:"#00796b"}}),label:"Repeat Content"}),o().createElement(ze.A,{value:"no",control:o().createElement(Ne.A,{sx:{color:"#00796b"}}),label:"Flashcards"}))),o().createElement(Re.A,{component:"fieldset"},o().createElement(De.A,{component:"legend",sx:{fontWeight:600,color:"#004d40",mb:1}},"Do you prefer long study blocks or frequent intervals?"),o().createElement(Be.A,{row:!0,name:"prefersLongBlocks",value:s.prefersLongBlocks,onChange:g},o().createElement(ze.A,{value:"yes",control:o().createElement(Ne.A,{sx:{color:"#00796b"}}),label:"Long Blocks"}),o().createElement(ze.A,{value:"no",control:o().createElement(Ne.A,{sx:{color:"#00796b"}}),label:"Frequent Intervals"}))),o().createElement(Re.A,{component:"fieldset"},o().createElement(De.A,{component:"legend",sx:{fontWeight:600,color:"#004d40",mb:1}},"Do you prefer writing or reading during study sessions?"),o().createElement(Be.A,{row:!0,name:"prefersWriting",value:s.prefersWriting,onChange:g},o().createElement(ze.A,{value:"yes",control:o().createElement(Ne.A,{sx:{color:"#00796b"}}),label:"Writing"}),o().createElement(ze.A,{value:"no",control:o().createElement(Ne.A,{sx:{color:"#00796b"}}),label:"Reading"}))))),o().createElement(k.A,{sx:{my:2}}),o().createElement(u.A,{sx:{backgroundColor:"#ffffff",p:3,borderRadius:2,boxShadow:2,maxHeight:"150px",overflowY:"auto"}},o().createElement(f.A,{variant:"h6",sx:{fontWeight:600,color:"#004d40",textAlign:"center",mb:2}},"Recommended Study Method:"),o().createElement(f.A,{variant:"body1",sx:{fontStyle:"italic",color:"#004d40",fontSize:"1.1rem",textAlign:"center"}},d)),o().createElement(k.A,{sx:{my:3}}),o().createElement(u.A,{sx:{textAlign:"center"}},o().createElement(b.A,{onClick:t,sx:{backgroundColor:"#00796b",color:"#ffffff",fontWeight:600,px:4,py:1.5,borderRadius:2,textTransform:"none","&:hover":{backgroundColor:"#00695c"}}},"Back 🏡"))):null}var je=n(6867);const Oe=["Your potential is endless. Go do what you were created to do. 💡","Don't limit your challenges. Challenge your limits. 🚀","It’s okay to rest, but don’t quit. Keep going. 🌟","Your only limit is your mind. Change your thoughts, change your life. 💭","Believe in yourself and your ability to succeed. 💪"];function Ke({onClose:e,addItem:t}){const[n,r]=(0,a.useState)(0),[l,i]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[d,m]=(0,a.useState)(""),[p,E]=(0,a.useState)(""),[k,A]=(0,a.useState)(null),[S,y]=(0,a.useState)("");(0,a.useEffect)((()=>{const e=localStorage.getItem("motivationQuotes");i(e?JSON.parse(e):Oe);const t=localStorage.getItem("motivationSelfReflections");c(t?JSON.parse(t):[])}),[]),(0,a.useEffect)((()=>{localStorage.setItem("motivationQuotes",JSON.stringify(l))}),[l]),(0,a.useEffect)((()=>{localStorage.setItem("motivationSelfReflections",JSON.stringify(s))}),[s]);const v=()=>{d.trim()&&(i((e=>[...e,d.trim()])),m(""))},C=()=>{if(""!==p.trim()){const e=(new Date).toLocaleString(),t={text:p,timestamp:e};c((e=>[...e,t])),E("")}},w=()=>{A(null),y("")};return o().createElement(u.A,{sx:{width:"90%",maxWidth:"1400px",margin:"20px auto",padding:4,background:"linear-gradient(135deg, #e0f7fa 0%, #e0f2f1 100%)",borderRadius:"12px",boxShadow:"0px 6px 15px rgba(0, 0, 0, 0.1)",justifyContent:"center"}},o().createElement(f.A,{variant:"h5",sx:{fontWeight:"bold",mb:2,textAlign:"center"}},"✨ Motivational Boost ✨"),o().createElement(f.A,{variant:"h6",sx:{fontStyle:"italic",mb:1,textAlign:"center"}},l[n]),o().createElement(u.A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:1,mb:2}},o().createElement(b.A,{variant:"contained",onClick:()=>{r((e=>(e+1)%l.length))},sx:{backgroundColor:"#CE93D8",color:"#FFFFFF"}},"Next Quote 🔄"),o().createElement(h.A,{title:"Delete Current Quote"},o().createElement(x.A,{onClick:()=>(e=>{const t=l.filter(((t,n)=>n!==e));i(t),n>=t.length&&r(0)})(n),size:"small"},o().createElement(L.A,{fontSize:"large"}))),o().createElement(h.A,{title:"Refresh Quotes"},o().createElement(x.A,{onClick:()=>{i(Oe),r(0),localStorage.setItem("motivationQuotes",JSON.stringify(Oe))},size:"small",sx:{color:"#CE93D8","&:hover":{color:"#ab47bc"}}},o().createElement(je.A,{fontSize:"large"})))),o().createElement(g.A,{label:"Add your own motivational quote",variant:"outlined",fullWidth:!0,multiline:!0,rows:2,value:d,onChange:e=>m(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),v())},sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#088F8F"}},"& .MuiInputLabel-root.Mui-focused":{color:"#088F8F"}}}),o().createElement(b.A,{variant:"contained",onClick:v,sx:{display:"block",mx:"auto",backgroundColor:"#aed581",mt:1,mb:2}},"Add Quote ✍️"),o().createElement(u.A,{sx:{mt:4,justifyContent:"center",textAlign:"center"}},o().createElement(f.A,{variant:"h6",sx:{fontWeight:"bold",mb:1}},"Self Reflection 🤔"),o().createElement(g.A,{label:"Enter your thought or question",variant:"outlined",fullWidth:!0,multiline:!0,rows:2,value:p,onChange:e=>E(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),C())},sx:{"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:"#088F8F"}},"& .MuiInputLabel-root.Mui-focused":{color:"#088F8F"}}}),o().createElement(b.A,{variant:"contained",onClick:C,sx:{backgroundColor:"#90caf9",mt:2,mb:2,justifyContent:"center"}},"Save Reflection 📝"),o().createElement(T.A,{elevation:3,sx:{height:"auto",overflowY:"auto",padding:2,textAlign:"left",width:"auto",margin:"0 auto"}},s.length>0?s.map(((e,t)=>o().createElement(u.A,{key:t,sx:{mb:1,borderBottom:"1px solid #ccc",paddingBottom:"4px"}},k===t?o().createElement(o().Fragment,null,o().createElement(g.A,{value:S,onChange:e=>y(e.target.value),fullWidth:!0,multiline:!0}),o().createElement(u.A,{sx:{mt:1}},o().createElement(b.A,{onClick:()=>(e=>{const t=[...s];t[e]={...t[e],text:S,timestamp:(new Date).toLocaleString()},c(t),A(null),y("")})(t),variant:"contained",size:"small",sx:{mr:1}},"Save"),o().createElement(b.A,{onClick:w,variant:"outlined",size:"small"},"Cancel"))):o().createElement(o().Fragment,null,o().createElement(T.A,{elevation:2,sx:{p:2,borderRadius:2,mb:1,background:"#ffffff",boxShadow:"0px 2px 8px rgba(0, 0, 0, 0.06)"}},o().createElement(u.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",maxHeight:"300px"}},o().createElement(u.A,null,o().createElement(f.A,{variant:"body1",sx:{mb:.5}},e.text),o().createElement(f.A,{variant:"caption",color:"text.secondary"},e.timestamp)),o().createElement(u.A,null,o().createElement(x.A,{onClick:()=>(e=>{A(e),y(s[e].text)})(t),size:"small"},o().createElement(N.A,{fontSize:"small"})),o().createElement(x.A,{onClick:()=>(e=>{const t=s.filter(((t,n)=>n!==e));c(t)})(t),size:"small"},o().createElement(L.A,{fontSize:"small"}))))))))):o().createElement(f.A,{variant:"body2",color:"text.secondary"},"No self reflections saved."))),o().createElement(b.A,{variant:"contained",onClick:e,sx:{display:"block",mx:"auto",backgroundColor:"#088F8F",mt:2,mb:2}},"Back To Tasks 📚"))}var He=n(9422),qe=n(3347),Pe=n(3054);function Ye(){return o().createElement(o().Fragment,null,o().createElement(qe.A,{position:"static",sx:{backgroundColor:"#088F8F"}},o().createElement(Pe.A,null,o().createElement(f.A,{variant:"h4",sx:{fontWeight:"bold",color:"white"}},"Mind My Mind"))),o().createElement(Pe.A,null))}var Je=n(4239),Ue=n.n(Je);function Ge(){const{user:e}=ve(),[t,n]=(0,a.useState)((()=>{const e=localStorage.getItem("taskItems");return e?JSON.parse(e):[{id:1,name:"Get Started!",time:0,subtasks:[]}]}));(0,a.useEffect)((()=>{localStorage.setItem("taskItems",JSON.stringify(t))}),[t]);const[r,l]=(0,a.useState)(!1),[i,s]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[m,g]=(0,a.useState)(!1),[b,p]=(0,a.useState)(!1),[E,A]=(0,a.useState)(!1),[S,y]=(0,a.useState)(!1),[v,C]=(0,a.useState)(!0),[w,T]=(0,a.useState)((()=>{const e=localStorage.getItem("breaksTaken");return e?JSON.parse(e):0})),[I,M]=(0,a.useState)((()=>{const e=localStorage.getItem("studyHistory");return e?JSON.parse(e):{}}));(0,a.useEffect)((()=>{localStorage.setItem("breaksTaken",JSON.stringify(w))}),[w]),(0,a.useEffect)((()=>{localStorage.setItem("studyHistory",JSON.stringify(I))}),[I]);const F=e=>{n((t=>[...t,{id:Date.now(),name:e,time:0,subtasks:[]}]))},R=e=>n((t=>t.filter((t=>t.id!==e)))),D=(e,t)=>{n((n=>n.map((n=>n.id===e?{...n,subtasks:n.subtasks.filter((e=>e.id!==t))}:n))))},B=e=>{d(e),s(!0),g(!1),p(!1)},z=(e,t)=>{d({taskId:e,subtaskId:t}),s(!0)},N=(e,t)=>{const a={id:Date.now(),name:t,time:0};n((t=>t.map((t=>t.id===e?{...t,subtasks:[...t.subtasks,a]}:t))))},$=()=>t.reduce(((e,t)=>{const n=t.subtasks.reduce(((e,t)=>e+t.time),0);return e+t.time+n}),0);return(0,a.useEffect)((()=>{const e=(0,W.C3)(),n=(0,W.KR)(e,"/voiceCommand"),a=(0,W.Zy)(n,(n=>{const a=n.val();if(!a)return;const o=a.toLowerCase().trim();console.log("🎤 Voice command received:",o);const r=["go","open","show","navigate","access"],l=(e,t)=>r.some((t=>e.includes(t)))&&t.some((t=>e.includes(t))),i=o.match(/^(start|begin|resume|go|play)\s+(.+)\s+under\s+(.+)$/i),c=o.match(/^(start|begin|resume|go|play)\s+(.+)$/i);if(i){const e=i[2].trim(),n=i[3].trim(),a=t.map((e=>e.name.toLowerCase())),o=Ue().findBestMatch(n,a),r=t[o.bestMatchIndex];if(o.bestMatch.rating>.5&&r.subtasks.length>0){const t=r.subtasks.map((e=>e.name.toLowerCase())),n=Ue().findBestMatch(e,t),a=r.subtasks[n.bestMatchIndex];n.bestMatch.rating>.5?(console.log(`✅ Starting subtask: "${a.name}" under "${r.name}"`),z(r.id,a.id)):console.warn(`⚠️ Subtask "${e}" not found under "${r.name}"`)}else console.warn(`⚠️ No matching parent task found for: "${n}"`)}else if(c){const e=c[2].trim(),n=e.toLowerCase(),a=t.find((e=>n.includes(e.name.toLowerCase())));if(a)return console.log(`✅ Direct match starting task "${a.name}"`),B(a.id);const o=t.map((e=>e.name.toLowerCase())),{bestMatch:r,bestMatchIndex:l}=Ue().findBestMatch(n,o);if(r.rating>.3){const e=t[l];console.log(`✅ Fuzzy match starting task "${e.name}"`),B(e.id)}else console.warn(`⚠️ No matching task found for: "${e}"`)}const d=o.match(/^add\s+(.+)$/i),m=o.match(/^delete\s+(.+)$/i),u=o.match(/^add\s+(.+)\s+under\s+(.+)$/i),f=o.match(/^delete\s+(.+)\s+under\s+(.+)$/i);if(d){const e=d[1].trim();console.log(`🆕 Adding task: "${e}"`),F(e)}else if(m){const e=m[1].trim(),n=t.map((e=>e.name.toLowerCase())),{bestMatchIndex:a,bestMatch:o}=Ue().findBestMatch(e,n),r=t[a];o.rating>.5?(console.log(`🗑 Deleting task: "${r.name}"`),R(r.id)):console.warn(`❌ Task not found for deletion: "${e}"`)}else if(u){const e=u[1].trim(),n=u[2].trim(),a=t.map((e=>e.name.toLowerCase())),{bestMatchIndex:o,bestMatch:r}=Ue().findBestMatch(n,a),l=t[o];r.rating>.5?(console.log(`🆕 Adding subtask "${e}" under "${l.name}"`),N(l.id,e)):console.warn(`❌ Parent task not found for subtask add: "${n}"`)}else if(f){const e=f[1].trim(),n=f[2].trim(),a=t.map((e=>e.name.toLowerCase())),{bestMatchIndex:o,bestMatch:r}=Ue().findBestMatch(n,a),l=t[o];if(r.rating>.5&&l.subtasks.length>0){const t=l.subtasks.map((e=>e.name.toLowerCase())),{bestMatchIndex:n,bestMatch:a}=Ue().findBestMatch(e,t),o=l.subtasks[n];a.rating>.5?(console.log(`🗑 Deleting subtask "${o.name}" under "${l.name}"`),D(l.id,o.id)):console.warn(`❌ Subtask not found for deletion: "${e}"`)}else console.warn(`❌ Parent task not found for subtask delete: "${n}"`)}var b;l(o,["statistics","stats"])?(console.log("📊 Opening Statistics Dialog via voice"),g(!0),s(!1),p(!1),A(!1),y(!1)):l(o,["shop","coins","spend"])?(console.log("🪙 Opening Shop via voice"),p(!0),C(!0),s(!1),g(!1),A(!1),y(!1)):l(o,["study methods","methods","learning advice"])?(console.log("📚 Opening Study Methods via voice"),A(!0),p(!1),s(!1),g(!1),y(!1)):l(o,["motivation","motivational","motivational boost","inner voice","motivate"])?(console.log("💬 Opening Motivation Page via voice"),y(!0),A(!1),p(!1),g(!1),s(!1)):(b=o,["go back","home","exit","close","back"].some((e=>b.includes(e)))&&(console.log("🔙 Going back via voice"),p(!1),g(!1),A(!1),y(!1),s(!1))),(0,W.hZ)((0,W.KR)(e,"/voiceCommand"),null)}));return()=>a()}),[t,B,z,F,R,N,D]),o().createElement(o().Fragment,null,i&&null!==c?o().createElement(ae,{onTimerEnd:(e,t,a)=>{s(!1),T(t),d(null);const o=(new Date).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short"});M((t=>({...t,[o]:{...t[o]||{},[a.name]:(t[o]?.[a.name]||0)+e}}))),a.taskId?n((t=>t.map((t=>t.id===a.taskId?{...t,subtasks:t.subtasks.map((t=>t.id===a.id?{...t,time:t.time+e}:t))}:t)))):n((t=>t.map((t=>t.id===a.id?{...t,time:t.time+e}:t))))},initialBreaks:w,onTimeAdjust:(e,t)=>{if(0===e)return;const a=(new Date).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short"});M((n=>({...n,[a]:{...n[a]||{},[t.name]:Math.max(0,(n[a]?.[t.name]||0)+e)}}))),n((n=>n.map((n=>n.id===t.id?{...n,time:Math.max(0,n.time+e)}:n))))},currentTask:"object"==typeof c?t.find((e=>e.id===c.taskId)):t.find((e=>e.id===c)),currentSubtask:"object"==typeof c?t.find((e=>e.id===c.taskId)).subtasks.find((e=>e.id===c.subtaskId)):null,onTriggerMotivation:()=>{s(!1),y(!0)}}):m?o().createElement(Ce,{open:!0,onClose:()=>g(!1),totalTimeStudied:$(),breaksTaken:w,tasks:t,studyHistory:I}):b?o().createElement(we,{open:v,onClose:()=>{C(!1),p(!1)}}):E?o().createElement(Le,{open:!0,onClose:()=>A(!1),totalTimeStudied:$(),breaksTaken:w,tasks:t,onSubmit:()=>{}}):S?o().createElement(Ke,{onClose:()=>y(!1),addItem:F}):o().createElement(u.A,{sx:{width:"90%",maxWidth:"1400px",margin:"20px auto",padding:4,background:"linear-gradient(135deg, #e0f7fa 0%, #e0f2f1 100%)",borderRadius:"12px",boxShadow:"0px 6px 15px rgba(0, 0, 0, 0.1)"}},o().createElement(Ye,null),o().createElement(u.A,{sx:{display:"flex",justifyContent:"center",width:"100%"}},o().createElement(f.A,{variant:"h4",sx:{fontWeight:"bold",mb:3,color:"#088F8F"}},"Task Manager")),o().createElement(Te,{addItem:F}),o().createElement(k.A,{sx:{marginY:2}}),o().createElement(u.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"110%",mx:"auto",ml:"-5%"}},o().createElement(J,{items:t,deleteMode:r,deleteItem:R,deleteSubtask:D,startTimer:B,updateTask:(e,t)=>{n((n=>n.map((n=>n.id===e?{...n,...t}:n))))},addSubtask:N,startSubtaskTimer:z,updateSubtask:(e,t,a)=>{n((n=>n.map((n=>n.id===e?{...n,subtasks:n.subtasks.map((e=>e.id===t?{...e,name:a}:e))}:n))))},toggleTaskCompletion:e=>{n((t=>t.map((t=>t.id===e?{...t,completed:!t.completed}:t))))},toggleSubtaskCompletion:(e,t)=>{n((n=>n.map((n=>n.id===e?{...n,subtasks:n.subtasks.map((e=>e.id===t?{...e,completed:!e.completed}:e))}:n))))}})),o().createElement(u.A,{sx:{textAlign:"center",marginTop:3,display:"flex",justifyContent:"center",gap:2}},o().createElement(h.A,{title:"View Study Statistics"},o().createElement(x.A,{sx:{backgroundColor:"#90caf9",color:"#FFFFFF","&:hover":{backgroundColor:"#64b5f6"}},onClick:()=>{g(!0),s(!1),p(!1)}},o().createElement(Fe.A,null))),o().createElement(h.A,{title:"Spend Coins in Shop"},o().createElement(x.A,{onClick:()=>{p(!0),C(!0),s(!1),g(!1)},sx:{backgroundColor:"#088F8F",color:"#FFFFFF",padding:"8px","&:hover":{backgroundColor:"#06402B"}}},o().createElement(Me.A,null))),o().createElement(h.A,{title:"Study Methods"},o().createElement(x.A,{onClick:()=>{A(!0),p(!1),s(!1),g(!1)},sx:{backgroundColor:"#CE93D8",color:"#FFFFFF",padding:"8px","&:hover":{backgroundColor:"#bc5090"}}},o().createElement(We.A,null))),o().createElement(h.A,{title:"Motivational Boost"},o().createElement(x.A,{sx:{backgroundColor:"#e5c185",color:"#FFFFFF","&:hover":{backgroundColor:"#deae9f"}},onClick:()=>y(!0)},o().createElement(He.A,null))),o().createElement(h.A,{title:r?"Exit Delete Mode":"Enable Delete Mode"},o().createElement(x.A,{onClick:()=>l((e=>!e)),sx:{backgroundColor:r?"#76C76B":"#F08080",color:"#FFFFFF","&:hover":{backgroundColor:r?"#5BA157":"#DC6B6B"}}},r?o().createElement(Ie.A,null):o().createElement(L.A,null))))))}function Ze(){const{user:e,loading:t}=ve();return t?o().createElement("div",null,"Loading..."):e?o().createElement(Ge,null):o().createElement(E,{onLogin:()=>console.log("User logged in")})}function _e(){return o().createElement(ye,null,o().createElement(Ze,null))}}}]);
//# sourceMappingURL=3.89f2499ca719cceca643.js.map